<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🕒 스탑워치 & 뽀모도로</title>
    <style>
        .app {
            text-align: center;
            margin-top: 50px;
        }
        .timer h2 {
            font-size: 48px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="app">
        <h1>🕒 스탑워치 & 뽀모도로</h1>

        <div class="timer">
            <h2 id="time-display">0:00</h2>
            <button id="start-btn">시작</button>
            <button id="stop-btn" style="display: none;">정지</button>
            <button id="reset-btn">초기화</button>
        </div>

        <div class="pomo">
            <h3>뽀모도로 세션: <span id="pomo-session">0</span></h3>
            <button id="pomo-btn">뽀모도로 시작</button>
        </div>
    </div>

    <script>
        let time = 0;
        let running = false;
        let pomoSession = 0;
        let interval;

        const timeDisplay = document.getElementById("time-display");
        const startBtn = document.getElementById("start-btn");
        const stopBtn = document.getElementById("stop-btn");
        const resetBtn = document.getElementById("reset-btn");
        const pomoBtn = document.getElementById("pomo-btn");
        const pomoSessionDisplay = document.getElementById("pomo-session");

        function updateDisplay() {
            let min = Math.floor(time / 60);
            let sec = time % 60;
            timeDisplay.textContent = `${min}:${sec < 10 ? '0' : ''}${sec}`;
        }

        function startTimer() {
            if (running) return;
            running = true;
            interval = setInterval(() => {
                time++;
                updateDisplay();
            }, 1000);
            startBtn.style.display = "none";
            stopBtn.style.display = "inline-block";
        }

        function stopTimer() {
            running = false;
            clearInterval(interval);
            startBtn.style.display = "inline-block";
            stopBtn.style.display = "none";
        }

        function resetTimer() {
            running = false;
            clearInterval(interval);
            time = 0;
            updateDisplay();
            startBtn.style.display = "inline-block";
            stopBtn.style.display = "none";
        }

        function startPomodoro() {
            resetTimer();
            pomoSession++;
            pomoSessionDisplay.textContent = pomoSession;
            startTimer();

            setTimeout(() => {
                stopTimer();
                alert("뽀모도로 세션 종료 , 휴식 시간입니다!");
            }, 25 * 60 * 1000); // 25분 타이머
        }

        startBtn.addEventListener("click", startTimer);
        stopBtn.addEventListener("click", stopTimer);
        resetBtn.addEventListener("click", resetTimer);
        pomoBtn.addEventListener("click", startPomodoro);

        updateDisplay();
    </script>
</body>
</html>
